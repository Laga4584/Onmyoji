{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Desktop/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC \\uACFC\\uC815/onmyoji/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Script(){var _useState=useState([{line:\"\"}]),_useState2=_slicedToArray(_useState,2),scriptList=_useState2[0],setScriptList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),scriptIndex=_useState4[0],setScriptIndex=_useState4[1];// DB에서 스크립트 데이터 가져오기\nvar getList=function getList(){axios.post(\"http://localhost:3000/api/getScript\",{}).then(function(res){var data=res.data;setScriptList(data);}).catch(function(e){console.error(e);});};useEffect(function(){getList();},[]);if(scriptList.length>0)return/*#__PURE__*/_jsx(\"section\",{className:\"sec_5\",onClick:function onClick(){setScriptIndex(scriptIndex+1);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"img_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg\",style:{backgroundImage:\"url('assets/script/\"+scriptList[scriptIndex].background+\".png')\"}}),scriptList[scriptIndex].character1&&scriptList[scriptIndex].talking===0&&/*#__PURE__*/_jsx(\"div\",{className:\"chr1\",style:{backgroundImage:\"url('assets/script/\"+scriptList[scriptIndex].character1+\".png')\"}}),scriptList[scriptIndex].character1&&scriptList[scriptIndex].talking===1&&/*#__PURE__*/_jsx(\"div\",{className:\"chr1\",style:{backgroundImage:\"url('assets/script/\"+scriptList[scriptIndex].character1+\".png')\",filter:\"brightness(40%)\"}}),scriptList[scriptIndex].character2&&scriptList[scriptIndex].talking===1&&/*#__PURE__*/_jsx(\"div\",{className:\"chr2\",style:{backgroundImage:\"url('assets/script/\"+scriptList[scriptIndex].character2+\".png')\"}}),scriptList[scriptIndex].character2&&scriptList[scriptIndex].talking===0&&/*#__PURE__*/_jsx(\"div\",{className:\"chr2\",style:{backgroundImage:\"url('assets/script/\"+scriptList[scriptIndex].character2+\".png')\",filter:\"brightness(40%)\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"line\",children:scriptList[scriptIndex].line})]})});}export default Script;","map":{"version":3,"names":["React","useEffect","useState","axios","Script","line","scriptList","setScriptList","scriptIndex","setScriptIndex","getList","post","then","res","data","catch","e","console","error","length","backgroundImage","background","character1","talking","filter","character2"],"sources":["C:/Users/USER/Desktop/프론트엔드 과정/onmyoji/src/components/Script.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Script() {\r\n  const [scriptList, setScriptList] = useState([{ line: \"\" }]);\r\n  const [scriptIndex, setScriptIndex] = useState(0);\r\n\r\n  // DB에서 스크립트 데이터 가져오기\r\n  const getList = () => {\r\n    axios\r\n      .post(\"http://localhost:3000/api/getScript\", {})\r\n      .then((res) => {\r\n        const { data } = res;\r\n        setScriptList(data);\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList();\r\n  }, []);\r\n\r\n  if (scriptList.length > 0)\r\n    return (\r\n      <section\r\n        className=\"sec_5\"\r\n        onClick={function () {\r\n          setScriptIndex(scriptIndex + 1);\r\n        }}\r\n      >\r\n        <div className=\"img_wrap\">\r\n          <div\r\n            className=\"bg\"\r\n            style={{\r\n              backgroundImage:\r\n                \"url('assets/script/\" +\r\n                scriptList[scriptIndex].background +\r\n                \".png')\",\r\n            }}\r\n          ></div>\r\n          {scriptList[scriptIndex].character1 &&\r\n            scriptList[scriptIndex].talking === 0 && (\r\n              <div\r\n                className=\"chr1\"\r\n                style={{\r\n                  backgroundImage:\r\n                    \"url('assets/script/\" +\r\n                    scriptList[scriptIndex].character1 +\r\n                    \".png')\",\r\n                }}\r\n              ></div>\r\n            )}\r\n          {scriptList[scriptIndex].character1 &&\r\n            scriptList[scriptIndex].talking === 1 && (\r\n              <div\r\n                className=\"chr1\"\r\n                style={{\r\n                  backgroundImage:\r\n                    \"url('assets/script/\" +\r\n                    scriptList[scriptIndex].character1 +\r\n                    \".png')\",\r\n                  filter: \"brightness(40%)\",\r\n                }}\r\n              ></div>\r\n            )}\r\n          {scriptList[scriptIndex].character2 &&\r\n            scriptList[scriptIndex].talking === 1 && (\r\n              <div\r\n                className=\"chr2\"\r\n                style={{\r\n                  backgroundImage:\r\n                    \"url('assets/script/\" +\r\n                    scriptList[scriptIndex].character2 +\r\n                    \".png')\",\r\n                }}\r\n              ></div>\r\n            )}\r\n          {scriptList[scriptIndex].character2 &&\r\n            scriptList[scriptIndex].talking === 0 && (\r\n              <div\r\n                className=\"chr2\"\r\n                style={{\r\n                  backgroundImage:\r\n                    \"url('assets/script/\" +\r\n                    scriptList[scriptIndex].character2 +\r\n                    \".png')\",\r\n                  filter: \"brightness(40%)\",\r\n                }}\r\n              ></div>\r\n            )}\r\n          <div className=\"line\">{scriptList[scriptIndex].line}</div>\r\n        </div>\r\n      </section>\r\n    );\r\n}\r\n\r\nexport default Script;\r\n"],"mappings":"+JAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,QAASC,OAAM,EAAG,CAChB,cAAoCF,QAAQ,CAAC,CAAC,CAAEG,IAAI,CAAE,EAAG,CAAC,CAAC,CAAC,wCAArDC,UAAU,eAAEC,aAAa,eAChC,eAAsCL,QAAQ,CAAC,CAAC,CAAC,yCAA1CM,WAAW,eAAEC,cAAc,eAElC;AACA,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpBP,KAAK,CACFQ,IAAI,CAAC,qCAAqC,CAAE,CAAC,CAAC,CAAC,CAC/CC,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAQC,KAAI,CAAKD,GAAG,CAAZC,IAAI,CACZP,aAAa,CAACO,IAAI,CAAC,CACrB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,CAAC,CAAK,CACZC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAEDf,SAAS,CAAC,UAAM,CACdS,OAAO,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIJ,UAAU,CAACa,MAAM,CAAG,CAAC,CACvB,mBACE,gBACE,SAAS,CAAC,OAAO,CACjB,OAAO,CAAE,kBAAY,CACnBV,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CAAE,uBAEF,aAAK,SAAS,CAAC,UAAU,wBACvB,YACE,SAAS,CAAC,IAAI,CACd,KAAK,CAAE,CACLY,eAAe,CACb,qBAAqB,CACrBd,UAAU,CAACE,WAAW,CAAC,CAACa,UAAU,CAClC,QACJ,CAAE,EACG,CACNf,UAAU,CAACE,WAAW,CAAC,CAACc,UAAU,EACjChB,UAAU,CAACE,WAAW,CAAC,CAACe,OAAO,GAAK,CAAC,eACnC,YACE,SAAS,CAAC,MAAM,CAChB,KAAK,CAAE,CACLH,eAAe,CACb,qBAAqB,CACrBd,UAAU,CAACE,WAAW,CAAC,CAACc,UAAU,CAClC,QACJ,CAAE,EAEL,CACFhB,UAAU,CAACE,WAAW,CAAC,CAACc,UAAU,EACjChB,UAAU,CAACE,WAAW,CAAC,CAACe,OAAO,GAAK,CAAC,eACnC,YACE,SAAS,CAAC,MAAM,CAChB,KAAK,CAAE,CACLH,eAAe,CACb,qBAAqB,CACrBd,UAAU,CAACE,WAAW,CAAC,CAACc,UAAU,CAClC,QAAQ,CACVE,MAAM,CAAE,iBACV,CAAE,EAEL,CACFlB,UAAU,CAACE,WAAW,CAAC,CAACiB,UAAU,EACjCnB,UAAU,CAACE,WAAW,CAAC,CAACe,OAAO,GAAK,CAAC,eACnC,YACE,SAAS,CAAC,MAAM,CAChB,KAAK,CAAE,CACLH,eAAe,CACb,qBAAqB,CACrBd,UAAU,CAACE,WAAW,CAAC,CAACiB,UAAU,CAClC,QACJ,CAAE,EAEL,CACFnB,UAAU,CAACE,WAAW,CAAC,CAACiB,UAAU,EACjCnB,UAAU,CAACE,WAAW,CAAC,CAACe,OAAO,GAAK,CAAC,eACnC,YACE,SAAS,CAAC,MAAM,CAChB,KAAK,CAAE,CACLH,eAAe,CACb,qBAAqB,CACrBd,UAAU,CAACE,WAAW,CAAC,CAACiB,UAAU,CAClC,QAAQ,CACVD,MAAM,CAAE,iBACV,CAAE,EAEL,cACH,YAAK,SAAS,CAAC,MAAM,UAAElB,UAAU,CAACE,WAAW,CAAC,CAACH,IAAI,EAAO,GACtD,EACE,CAEhB,CAEA,cAAeD,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}