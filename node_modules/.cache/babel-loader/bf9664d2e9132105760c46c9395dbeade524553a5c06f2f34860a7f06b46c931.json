{"ast":null,"code":"import _objectSpread from\"C:/Users/USER/Desktop/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC \\uACFC\\uC815/onmyoji/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/USER/Desktop/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC \\uACFC\\uC815/onmyoji/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useEffect,useCallback}from\"react\";import Conversation from\"../data/Conversation\";import useScrollFadeIn from'../hooks/useScrollFadeIn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Story(){var fadeInImage=[useScrollFadeIn('right',1,0),useScrollFadeIn('left',1,0),useScrollFadeIn('right',1,0),useScrollFadeIn('left',1,0),useScrollFadeIn('right',1,0),useScrollFadeIn('right',1,0),useScrollFadeIn('right',1,0),useScrollFadeIn('right',1,0),useScrollFadeIn('right',1,0),useScrollFadeIn('left',1,0.5)];var fadeInText=[useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0),useScrollFadeIn('up',1,0)];var videoRef=useRef(null);var handleScroll=useCallback(function(_ref){var _ref2=_slicedToArray(_ref,1),entry=_ref2[0];if(entry.isIntersecting){videoRef.current.muted=true;videoRef.current.play();videoRef.current.muted=false;}else{videoRef.current.pause();};},[]);useEffect(function(){var observer;if(videoRef.current){observer=new IntersectionObserver(handleScroll,{threshold:0.7});observer.observe(videoRef.current);}return function(){return observer&&observer.disconnect();};},[handleScroll]);return/*#__PURE__*/_jsxs(\"section\",{className:\"sec_2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"scene\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"scene_bg\"}),/*#__PURE__*/_jsx(\"div\",{className:\"scene_text\",children:\"\\uD0DC\\uCD08\\uBD80\\uD130 \\uC874\\uC7AC\\uD588\\uB358 \\uAC70\\uB300\\uD55C \\uBC40\\uC774 \\uC5B4\\uB290 \\uB0A0 \\uACE0\\uAC1C\\uB97C \\uB4E4\\uACE0 \\uD0DC\\uC591\\uC5D0\\uAC8C \\uBB3C\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"down_button\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"conversation\",children:Conversation.map(function(val,ind){return/*#__PURE__*/_jsxs(\"div\",{className:val.character,children:[/*#__PURE__*/_jsx(\"div\",_objectSpread({className:\"img\"},fadeInImage[ind])),/*#__PURE__*/_jsx(\"p\",_objectSpread(_objectSpread({},fadeInText[ind]),{},{children:val.line}))]},ind);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"scene\",children:[/*#__PURE__*/_jsx(\"div\",_objectSpread({className:\"scene_bg2_1\"},fadeInImage[8])),/*#__PURE__*/_jsx(\"div\",_objectSpread({className:\"scene_bg2_2\"},fadeInImage[9])),/*#__PURE__*/_jsxs(\"div\",{className:\"scene_text\",children:[\"\\uBC40\\uC2E0\\uC740 \\uC721\\uB3C4\\uC758 \\uBB38\\uC5D0 \\uBD09\\uC778\\uB418\\uC5B4 \\uC788\\uB358 \\uC5EC\\uC12F \\uC545\\uC2E0\\uC5D0\\uAC8C \\uC790\\uC720\\uB97C \\uC8FC\\uC5C8\\uACE0,\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC778\\uC138\\uAC00 \\uC544\\uBE44\\uADDC\\uD658\\uC5D0 \\uBE60\\uC84C\\uB358 \\uADF8 \\uB54C, \\uADF8\\uAC00 \\uB098\\uD0C0\\uB0AC\\uC2B5\\uB2C8\\uB2E4.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video\",children:/*#__PURE__*/_jsx(\"video\",{type:\"video/mp4\",src:\"assets/story/cg.mp4\",controls:\"controls\",ref:videoRef})})]});}export default Story;","map":{"version":3,"names":["React","useRef","useEffect","useCallback","Conversation","useScrollFadeIn","Story","fadeInImage","fadeInText","videoRef","handleScroll","entry","isIntersecting","current","muted","play","pause","observer","IntersectionObserver","threshold","observe","disconnect","map","val","ind","character","line"],"sources":["C:/Users/USER/Desktop/프론트엔드 과정/onmyoji/src/components/Story.jsx"],"sourcesContent":["import React, {useRef, useEffect, useCallback} from \"react\";\r\nimport Conversation from \"../data/Conversation\";\r\nimport useScrollFadeIn from '../hooks/useScrollFadeIn';\r\n\r\nfunction Story() {\r\n    const fadeInImage = [useScrollFadeIn('right', 1, 0), useScrollFadeIn('left', 1, 0), useScrollFadeIn('right', 1, 0), useScrollFadeIn('left', 1, 0), useScrollFadeIn('right', 1, 0), useScrollFadeIn('right', 1, 0), useScrollFadeIn('right', 1, 0), useScrollFadeIn('right', 1, 0), useScrollFadeIn('right', 1, 0), useScrollFadeIn('left', 1, 0.5)];\r\n    const fadeInText = [useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0), useScrollFadeIn('up', 1, 0)]\r\n    const videoRef = useRef(null);\r\n    const handleScroll = useCallback(\r\n        ([entry]) => {\r\n          if (entry.isIntersecting) {\r\n            videoRef.current.muted = true;\r\n            videoRef.current.play();\r\n            videoRef.current.muted = false;\r\n          }else{\r\n             videoRef.current.pause();\r\n          };\r\n        }, []\r\n      );\r\n    \r\n      useEffect(() => {\r\n        let observer;\r\n    \r\n        if (videoRef.current) {\r\n          observer = new IntersectionObserver(handleScroll, { threshold: 0.7 });\r\n          observer.observe(videoRef.current);\r\n        }\r\n    \r\n        return () => observer && observer.disconnect();\r\n      }, [handleScroll]);\r\n    \r\n        return (\r\n            <section className=\"sec_2\">\r\n                <div className=\"scene\">\r\n                    <div className=\"scene_bg\"></div>\r\n                    <div className=\"scene_text\">\r\n                        태초부터 존재했던 거대한 뱀이 어느 날 고개를 들고 태양에게 물었습니다.\r\n                    </div>\r\n                    <div className=\"down_button\">\r\n        <a href=\"#\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </a>\r\n      </div>\r\n                </div>\r\n                <div className=\"conversation\">\r\n                    {Conversation.map((val, ind) => {\r\n        return (\r\n          <div key={ind} className={val.character}>\r\n            <div className=\"img\" {...fadeInImage[ind]}></div>\r\n            <p {...fadeInText[ind]}>{val.line}</p>\r\n         </div>   \r\n        );\r\n      })}\r\n                </div>\r\n                <div className=\"scene\">\r\n                    <div className=\"scene_bg2_1\" {...fadeInImage[8]}></div>\r\n                    <div className=\"scene_bg2_2\" {...fadeInImage[9]}></div>\r\n                    <div className=\"scene_text\">\r\n                        뱀신은 육도의 문에 봉인되어 있던 여섯 악신에게 자유를 주었고,<br>\r\n                        </br>\r\n                        인세가 아비규환에 빠졌던 그 때, 그가 나타났습니다.\r\n                    </div>\r\n                </div>\r\n                <div className=\"video\">\r\n                <video type=\"video/mp4\" src=\"assets/story/cg.mp4\" controls=\"controls\" ref={videoRef}></video>\r\n                </div>\r\n\r\n\t\t</section>\r\n        )\r\n    \r\n}\r\n\r\nexport default Story;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}